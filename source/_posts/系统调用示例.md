---
title: 系统调用示例
date: 2021-04-09 18:55:09
tags: [计算机, 系统]
categories: 计算机
---

### 系统调用示例
- 文件复制过程中的系统调用序列
```
源文件 ----------------> 目标文件
    获取输入文件名
        在屏幕显示提示
        等待并接受键盘输入
    获取输出文件名
        在屏幕显示提示
        等待并接受键盘输入
    打开输入文件
    如果文件不存在，出错并退出
    创建输出文件
    如果文件存在，出错并退出
    循环
        读取输入文件
        写入输出文件
    直到读取结束
    关闭输出文件
    在屏幕显示完成信息
    正常退出
```
```
System call numbers
#define SYS _fork 1
#define SYS _exit 2
#define SYS _wait 3
#define SYS _pipe 4
#define SYS _write 5
#define SYS _read 6
#define SYS _close 7
#define SYS _kill 8
#define SYS _exec 9
#define SYS _open 10
#define SYS _mknod 11
#define SYS _unlink 12
#define SYS _fstat 13
#define SYS _link 14
#define SYS _mkdir 15
#define SYS _chdir 16
#define SYS _dup 17
#define SYS _getpid 18
#define SYS _sbrk 19
#define SYS _sleep 20
#define SYS _procmem 21
```

- 在ucore中库函数read()的功能是读文件